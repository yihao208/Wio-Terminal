# TFT加速传感器控制小球游戏

## 项目介绍

这是一个基于TFT显示屏和LIS3DHTR加速度传感器的互动游戏。玩家通过倾斜设备来控制屏幕上的小球移动，需要避免小球碰到屏幕边缘。游戏支持按键重置功能，当游戏结束时可以通过按键重新开始。

## 硬件要求

- 支持TFT显示屏的开发板（如Wio Terminal）
- LIS3DHTR加速度传感器
- TFT显示屏（320x240分辨率）
- 按键（WIO_KEY_A, WIO_KEY_B, WIO_KEY_C）

## 软件要求

- Arduino IDE
- TFT_eSPI库
- Wire库（用于I2C通信）
- LIS3DHTR库

## 功能说明

### 核心功能
- **加速度控制**：通过LIS3DHTR加速度传感器检测设备倾斜角度，控制小球移动方向
- **边界检测**：实时检测小球是否碰到屏幕边缘
- **游戏结束机制**：当小球碰到边缘时，显示游戏结束界面
- **按键重置**：支持A/B/C三个按键重置游戏

### 视觉效果
- **黑色背景**：提供良好的视觉对比度
- **白色小球**：带红色边框，易于识别
- **游戏结束界面**：红色"Game Over"文字和重置提示

## 游戏规则

1. 游戏开始时，小球位于屏幕中心
2. 通过倾斜设备控制小球移动方向
   - 向左倾斜：小球向左移动
   - 向右倾斜：小球向右移动
   - 向前倾斜：小球向上移动
   - 向后倾斜：小球向下移动
3. 小球不能碰到屏幕边缘，否则游戏结束
4. 游戏结束后，按A/B/C任意键重新开始游戏

## 代码结构

### 核心变量
- `ballX`, `ballY`: 小球当前坐标
- `ballRadius`: 小球半径
- `ballSpeed`: 小球移动速度（9倍高速）
- `screenLeft`, `screenRight`, `screenTop`, `screenBottom`: 屏幕边界
- `gameOver`: 游戏结束状态标志

### 主要功能函数

1. **setup()**: 初始化硬件设备和游戏参数
2. **loop()**: 主循环，处理传感器数据、小球移动和边界检测
3. **initGame()**: 初始化游戏设置
4. **drawBall()**: 绘制小球
5. **showGameOver()**: 显示游戏结束界面
6. **checkResetButton()**: 检测重置按键
7. **resetGame()**: 重置游戏

## 游戏参数配置

- **小球半径**: 8px
- **移动速度**: 9倍高速
- **更新频率**: 约60FPS（16ms延时）
- **传感器范围**: ±2G
- **传感器数据率**: 50Hz

## 使用说明

1. 将代码上传到支持TFT显示屏和LIS3DHTR加速度传感器的开发板
2. 确保所有硬件连接正确
3. 上电后，游戏自动开始
4. 通过倾斜设备控制小球移动
5. 避免小球碰到屏幕边缘
6. 游戏结束后，按A/B/C任意键重新开始

## 注意事项

- 设备需要正确放置，确保加速度传感器能够准确检测倾斜角度
- 游戏速度较快，需要一定的操作技巧
- 若小球移动方向与预期相反，可以调整传感器方向或修改代码中的方向逻辑
